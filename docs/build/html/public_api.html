
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Public API &#8212; MakkaPakka 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Full API" href="private_api.html" />
    <link rel="prev" title="Data Structures" href="data_structures.html" />

  <link rel="stylesheet" href="_static/custom.css" type="text/css" />


  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">


          <div class="body" role="main">

  <section id="public-api">
<h1><strong>Public API</strong><a class="headerlink" href="#public-api" title="Permalink to this heading">¶</a></h1>
<section id="elf-caver">
<span id="integrating"></span><span id="processing"></span><span id="parsing"></span><span id="compilation-process"></span><span id="id1"></span><h2>Compilation process<a class="headerlink" href="#elf-caver" title="Permalink to this heading">¶</a></h2>
<p>blah</p>
</section>
<section id="id2">
<h2>Parsing<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-makka_pakka.parsing.parse"></span><dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.parsing.parse.parse_makka_pakka">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.parsing.parse.</span></span><span class="sig-name descname"><span class="pre">parse_makka_pakka</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mkpk_filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a></span></span><a class="headerlink" href="#makka_pakka.parsing.parse.parse_makka_pakka" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a makka pakka code file to generate an intermediate representation
object used by the processing phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mkpk_filepath</strong> – The filepath to the .mkpk file to be split into headings.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MKPKIR object to be used during the processing phase.</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-makka_pakka.linking.linker"></span><dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.linking.linker.merge_MKPKIRs">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.linking.linker.</span></span><span class="sig-name descname"><span class="pre">merge_MKPKIRs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mkpkirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a></span></span><a class="headerlink" href="#makka_pakka.linking.linker.merge_MKPKIRs" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges a list of MKPKIR objects into a single MKPKIR. The returned object
is then ready to be processed. This function is intended to be called
using the result of parse_with_linking.
This function is responsible for several validation checks:
- Function names do not conflict
- Data labels do not conflit
- ROPGadget memory addresses do not conflict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mkpkirs</strong> – The list of MKPKIR objects to be merged into one.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MKPKIR object with all passed objects merged into it.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.linking.linker.parse_link_and_merge">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.linking.linker.</span></span><span class="sig-name descname"><span class="pre">parse_link_and_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mkpk_filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a></span></span><a class="headerlink" href="#makka_pakka.linking.linker.parse_link_and_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses, links, and merges a main makka pakkka source file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mkpk_filepath</strong> – The filepath the main .mkpk source file to be parsed,
linked, and merged.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A linked, and merged MKPKIR object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.linking.linker.parse_with_linking">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.linking.linker.</span></span><span class="sig-name descname"><span class="pre">parse_with_linking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mkpk_filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#makka_pakka.linking.linker.parse_with_linking" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a makka pakka source file, recursively linking with files found in
the !link metadata directive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mkpk_filepath</strong> – The makka pakka source file to parse using recursive
linking.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of MKPKIR objects which represent .mkpk files that have
been parsed as dependencies of the main source file. The main source
file will at index 0.</p>
</dd>
<dt class="field-odd">Remark<span class="colon">:</span></dt>
<dd class="field-odd"><p>Each IR object in the returned list is assigned a metadata
attribute ‘link_depth’ which specifies the number of linked files
between it and the main source file. A direct link from the source
file will have value 1.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id3">
<h2>Processing<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-makka_pakka.processing.process"></span><dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.processing.process.process_makka_pakka">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.processing.process.</span></span><span class="sig-name descname"><span class="pre">process_makka_pakka</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="data_structures.html#makka_pakka.parsing.parsing_structures.MKPKIR" title="makka_pakka.parsing.parsing_structures.MKPKIR"><span class="pre">MKPKIR</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_structures.html#makka_pakka.processing.processing_structures.MKPKCode" title="makka_pakka.processing.processing_structures.MKPKCode"><span class="pre">MKPKCode</span></a></span></span><a class="headerlink" href="#makka_pakka.processing.process.process_makka_pakka" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the processing phase of makka pakka compilation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ir</strong> – The MKPKIR object which was the result of the parsing phase.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MKPKCode object which has been processed.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id4">
<h2>Integrating<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-makka_pakka.integrating.integrate"></span><dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.integrating.integrate.integrate_makka_pakka">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.integrating.integrate.</span></span><span class="sig-name descname"><span class="pre">integrate_makka_pakka</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="data_structures.html#makka_pakka.processing.processing_structures.MKPKCode" title="makka_pakka.processing.processing_structures.MKPKCode"><span class="pre">MKPKCode</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#makka_pakka.integrating.integrate.integrate_makka_pakka" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the integrating phase of makka pakka compilation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> – The MKPKCode object which as the result of the processing phase.</p></li>
<li><p><strong>output_filepath</strong> – The filepath to write the integrated code to. This will
be a random /tmp/{uuid} path if not specified.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filepath that the code was written to.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id5">
<h2>ELF Caver<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-makka_pakka.elf_caver.caver.code_caver"></span><dl class="py function">
<dt class="sig sig-object py" id="makka_pakka.elf_caver.caver.code_caver.get_code_caves">
<span class="sig-prename descclassname"><span class="pre">makka_pakka.elf_caver.caver.code_caver.</span></span><span class="sig-name descname"><span class="pre">get_code_caves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Binary</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#makka_pakka.elf_caver.caver.code_caver.get_code_caves" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the code caves from the passed binary. Returns a list of tuples in the
format: (code cave offset, code cave size).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>binary</strong> – The binary to find the code caves in</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of code caves in the format (code cave offset, code cave size)</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>

        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">MakkaPakka</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html"><strong>Installation</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="language_spec.html"><strong>Language Features</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html"><strong>Examples</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html"><strong>Compilation Process</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="data_structures.html"><strong>Data Structures</strong></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><strong>Public API</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elf-caver">Compilation process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Integrating</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">ELF Caver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="private_api.html"><strong>Full API</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html"><strong>Modules</strong></a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="data_structures.html" title="previous chapter"><strong>Data Structures</strong></a></li>
      <li>Next: <a href="private_api.html" title="next chapter"><strong>Full API</strong></a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Alex J.

      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>

      |
      <a href="_sources/public_api.rst.txt"
          rel="nofollow">Page source</a>
    </div>




  </body>
</html>
